<script>
  import { getAuth, signInWithPopup, GoogleAuthProvider } from "firebase/auth";
  import { user$ } from "../store";

  const provider = new GoogleAuthProvider();
  const auth = getAuth();

  const loginWithGoogle = async () => {
    try {
      const result = await signInWithPopup(auth, provider);
      const credential = GoogleAuthProvider.credentialFromResult(result);
      const token = credential.accessToken;
      const user = result.user;

      user$.set(user);

      localStorage.setItem("token", token);
    } catch (e) {
      console.error(e);
    }
  };
</script>

<div>
  <!-- {#if $user$}
    <div>{$user$.displayName} 로그인됨</div>
  {/if} -->
  <div>로그인하기</div>
  <button class="login-btn" on:click={loginWithGoogle}>
    <img
      class="google-img"
      src="data:image/png;base64,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"
      alt=""
    />
    <div>Google로 시작하기</div>
  </button>
</div>

<style>
  .login-btn {
    width: 200px;
    height: 50px;
    border: 1px solid gray;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    border-radius: 3px;
  }
  .google-img {
    width: 20px;
  }
</style>
